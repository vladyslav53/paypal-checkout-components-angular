
<script src="../dist/checkout-components.js"></script>

<style>
    body {
        background-color: white;
    }
</style>

<h1>Checkout!</h1>

<button onclick="authorize()">Authorize Payment</button>

<script>
    let ecToken;

    var checkout = checkoutComponents.PayPalCheckout.attach({
        onEnter: function() {
            this.props.getToken().then(function(token) {
                ecToken = token;
                console.log('got paypal token!', token);
            });
        }
    });

    function authorize() {
        if (checkout.props.onPaymentAuthorize) {
            checkout.props.onPaymentAuthorize(ecToken).then(function() {
                checkout.close();
            });
        }
    }
</script>