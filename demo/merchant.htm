
<style>
    iframe {
        border: 1px dashed grey;
    }

    form {
        border: 1px dashed lightblue;
        display: inline-block;
        padding: 10px;
    }
</style>

<script   src="https://code.jquery.com/jquery-1.12.4.js"   integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="   crossorigin="anonymous"></script>

<script src="../dist/checkout-components.js"></script>

<!-- -------------------------------------------------- -->

<h2>1. Button in iframe</h2>

<div id="button"></div>

<hr>

<!-- -------------------------------------------------- -->

<h2>2. Standard merchant-owned button with ajax call</h2>

<button onclick="openPayPalCheckout()">Checkout</button>

<hr>

<!-- -------------------------------------------------- -->

<h2>3. Standard merchant-owned link with href</h2>

<a id="checkout-link" href="./checkout.htm">Checkout</a>

<hr>

<!-- -------------------------------------------------- -->

<h2>4. Standard merchant-owned form with target</h2>

<form action="./checkout.htm">
    <button id="checkout-button">Checkout</button>
</form>

<hr>

<!-- -------------------------------------------------- -->

<h2>5. Standard merchant-owned form with target, button in iframe</h2>

<form action="./checkout.htm">
    <div id="button2"></div>
</form>

<!-- -------------------------------------------------- -->


<h2>6. Standard merchant-owned button with ajax call; LightBox rendered with Add Content button</h2>

<button onclick="addcontentCheckout()">Checkout</button>

<hr>

<!-- -------------------------------------------------- -->


<script>

    function getToken(callback) {
        jQuery.ajax({
            url: 'http://xotoolslvs01.qa.paypal.com/~dbrain/aries.cgi?local=1&onlytoken=1&stage=msmaster',
            method: 'post',
            success: function(token) {
                return callback(null, token.trim());
            },
            error: function() {
                return callback(new Error('There was an error retrieving the token'));
            }
        });
    }

    function onPaymentAuthorize(token) {
        console.log('payment authorized with token:', token);
    }





    // 1. Button in iframe

    checkoutComponents.PayPalButton.init({

        url: './button.htm',

        getToken: getToken,
        onPaymentAuthorize: onPaymentAuthorize

    }).render('#button');


    // -----------------------------------------------------------


    // 2. Standard merchant-owned button with ajax call

    function openPayPalCheckout() {

        var checkout = checkoutComponents.PayPalCheckout.init({

            url: './checkout.htm',

            getToken: getToken,
            onPaymentAuthorize: onPaymentAuthorize

        }).renderPopup();
    }



    // -----------------------------------------------------------


    // 3. Standard merchant-owned link with href

    var checkout = checkoutComponents.PayPalCheckout.init({

        getToken: getToken,
        onPaymentAuthorize: onPaymentAuthorize

    }).hijackButtonToPopup('#checkout-link');




    // -----------------------------------------------------------


    // 4. Standard merchant-owned form with target

    var checkout = checkoutComponents.PayPalCheckout.init({

        getToken: getToken,
        onPaymentAuthorize: onPaymentAuthorize

    }).hijackButtonToPopup('#checkout-button');




    // -----------------------------------------------------------


    // 5. Standard merchant-owned form with target, button in iframe

    checkoutComponents.PayPalButton.init({

        url: './button.htm',

        getToken: getToken,
        onPaymentAuthorize: onPaymentAuthorize,
        submitForm: true

    }).render('#button2');


    // 6. Standard merchant-owned button with ajax call; LightBox rendered with Add Content button

    function addcontentCheckout() {

        var checkout = checkoutComponents.PayPalCheckout.init({

            url: './addcontent.html',

            getToken: getToken,
            onPaymentAuthorize: onPaymentAuthorize

        }).renderLightbox();
    }


</script>